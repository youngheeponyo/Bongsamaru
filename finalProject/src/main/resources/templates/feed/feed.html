<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
	 xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style scoped="scoped">
.feedList {
	margin : 0 auto;
	width: 800px;
	text-align : center;
	color: black;
}
.mainhead{
	margin-bottom : 50px;
}
.image-container {
	display: flex;
	justify-content: space-between;
}
.circle {
  display: inline-block;
  width: 100px;
  border: 1px solid #000;
  background-color: #f2f2f2;
  text-align: center;
  font-weight: bold;
  color: #333;
  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);
}
</style>
</head>
<body>
	<section layout:fragment="content">
		<th:block th:each="item : ${list}">
		<div class="container">
			<div class="mainhead">
				<div class="contenttext" id="temperature" title="">
					<div style="font-size:14px; font-weight: bold;">[[${item.tempChange}]]ÂºC
						<img alt="ë§ˆìŒ ì˜¨ë„" src="/userresources/image/banner/heart.jpg" style="width:30px; height: 30px;">
					</div>
				
				</div>
				<div class="contenttext">
						<span class="profile_thumb">
						<img th:if="${item.memProfile} == null" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" src="/userresources/image/banner/nullimage.jpg" style="border-radius: 50%; width: 100px; height: 100px;">
						<img th:if="${item.memProfile} != null"id="profileImage" style="border-radius: 50%; width: 100px; height: 100px;" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" class="img_thumb" th:src="@{${item.memProfile}}">
						</span>
				</div>
				<p style="color: black; font-size: 25px; font-weight: bold;" th:text="${item.memNick + 'ë‹˜'}"></p>
				<th:block th:each="interest, iterStat : ${InterestList}">
				  <span th:text="${interest.interestCode}" class="circle"></span>
				  <span style="display: inline-block; width: 10px;"></span>
				</th:block>
			</div>
			<div class="feedList">
				<h4>í”¼ë“œ</h4>
				<hr>
				<div class="image-container" style="display: flex; flex-wrap: wrap;">
				  <th:block th:each="list, iter : ${feedList}">
				    <div th:if="${iter.index}" style="display: flex; flex-direction: column; width: calc(33.33% - 10px); margin-right: 10px; margin-bottom: 10px;">
				      <span>
					    <img th:onclick="feedDetail([[${item.memId}]],[[${list.boardId}]])" style="width: 200px; height: 200px;" alt="" class="img_thumb" th:src="@{${list.filePath}}">
				        <span th:onclick="likes([[${list.boardId}]])">ì¢‹ì•„ìš”</span>
				      </span>
				      <p th:text="${list.title}"></p>
				    </div>
				  </th:block>
				  <div style="flex-basis: 33.33%; flex-grow: 1;"></div>
				  <div style="flex-basis: 33.33%; flex-grow: 1;"></div>
				  <div style="flex-basis: 33.33%; flex-grow: 1;"></div>
				</div>
				<h5 th:if="${feedList.size == 0}" style="margin-top: 250px; color: gray;">ì•„ì§ ì‘ì„± ëœ í”¼ë“œê°€ ì—†ì–´ìš”. ğŸŒ±</h5>
			</div>
		</div>
		</th:block>
	<script th:inline="javascript">
$("#temperature").attr( 'title', 
`ë§ˆìŒì˜¨ë„ë€ ë¬´ì—‡ì¸ê°€ìš”?
		
íšŒì›ê°€ì… ì‹œ, ì—¬ëŸ¬ë¶„ì˜ ë§ˆìŒì˜¨ë„ëŠ” ê¸°ë³¸ 36.5ë„ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.
ì‚¬ì´íŠ¸ ë‚´ í™œë™ì— ë”°ë¼ ë§ˆìŒì˜¨ë„ê°€ ì˜¤ë¥´ê±°ë‚˜ ë‚´ë ¤ê°‘ë‹ˆë‹¤.
ì—¬ëŸ¬ë¶„ì˜ í™œë°œí•œ ì°¸ì—¬ë¡œ ë§ˆìŒì˜¨ë„ë¥¼ ë”°ëœ»í•˜ê²Œ ìœ ì§€í•´ì£¼ì„¸ìš”!
` );

function likes(boardId) {
    // AJAX ìš”ì²­
    $.ajax({
        type: 'POST',
        url: '/likes',
        data: {
            boardId: boardId
        },
        success: function(result) {
        	if(result == "0"){
        		alert('ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥');
        	}
            console.log(result);
            
        },
        error: function(error) {
            console.log(error);
        }
    });
}

function feedDetail(memId,boardId){
	window.location.href = "/feed/" + memId + "/" + boardId;
}

/* var visibleFeeds = 9; // í˜„ì¬ ë³´ì´ëŠ” í”¼ë“œì˜ ìˆ˜

function showMoreFeeds() {
  var remainingFeeds = document.querySelectorAll('.image-container > div:nth-child(n+' + (visibleFeeds + 1) + '):nth-child(-n+' + (visibleFeeds + 9) + ')');
  for (var i = 0; i < remainingFeeds.length; i++) {
    remainingFeeds[i].style.display = 'flex';
  }
  visibleFeeds += 9; // ë³´ì´ëŠ” í”¼ë“œ ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸
  if (visibleFeeds >= document.querySelectorAll('.image-container > div').length) {
    document.getElementById('moreButton').style.display = 'none'; // ëª¨ë“  í”¼ë“œê°€ ë³´ì´ë©´ ë”ë³´ê¸° ë²„íŠ¼ ê°ì¶”ê¸°
  }
} */
	</script>
	</section>
</body>
</html>